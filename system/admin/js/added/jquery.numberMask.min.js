(function(e){e.fn.numberMask=function(g){var b={type:"int",beforePoint:10,afterPoint:2,defaultValueInput:0,decimalMark:".",pattern:""},m=function(a){a=a.val();return("object"==typeof b.pattern&&b.pattern instanceof RegExp?b.pattern:"int"==b.type?RegExp("^\\d{1,"+b.beforePoint+"}$","ig"):RegExp("^\\d{1,"+b.beforePoint+"}$|^\\d{1,"+b.beforePoint+"}\\"+b.decimalMark+"\\d{1,"+b.afterPoint+"}$","ig")).test(a)?a:b.defaultValueInput};this.bind("keypress",function(a){var h,f=a.which;if(a.ctrlKey||a.altKey||
a.metaKey||32>f)return!0;if(f){var f=String.fromCharCode(f),j=a.target.value,d=a.target,c=a=0,e,k,g=!1;if("number"==typeof d.selectionStart&&"number"==typeof d.selectionEnd)a=d.selectionStart,c=d.selectionEnd;else if((e=document.selection.createRange())&&e.parentElement()==d)k=d.value.length,h=d.value.replace(/\r\n/g,"\n"),c=d.createTextRange(),c.moveToBookmark(e.getBookmark()),d=d.createTextRange(),d.collapse(!1),-1<c.compareEndPoints("StartToEnd",d)?a=c=k:(a=-c.moveStart("character",-k),a+=h.slice(0,
a).split("\n").length-1,-1<c.compareEndPoints("EndToEnd",d)?c=k:(c=-c.moveEnd("character",-k),c+=h.slice(0,c).split("\n").length-1));0!=a-c&&(g=!0);h=c;j=g?j.substring(0,a)+f+j.substring(h):j+f;if("object"==typeof b.pattern&&b.pattern instanceof RegExp)var l=b.pattern;else"int"==b.type?l=RegExp("^\\d{1,"+b.beforePoint+"}$","ig"):"float"==b.type&&(l=RegExp("^\\d{1,"+b.beforePoint+"}$|^\\d{1,"+b.beforePoint+"}\\"+b.decimalMark+"\\d{0,"+b.afterPoint+"}$","ig"));return l.test(j)}}).bind("keyup",function(a){var b=
e(a.target);(13==a.which||86==a.which)&&b.val(m(b))}).bind("blur",function(a){a=e(a.target);""!=a.val()&&a.val(m(a))});g&&e.extend(b,g);return this}})(jQuery);