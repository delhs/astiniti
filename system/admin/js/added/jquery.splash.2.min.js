(function(a){a.fn.splash=function(c,f){return this.each(function(){c||(c={});c.html=a(this);a.splash(c,f)})};a.splash=function(c,f){var b={html:"",closeBtn:!0,closeOutClick:!1,closeToEscape:!1,fullscreen:!1,durationOpen:300,durationClose:300,opacity:0.8,openCallback:void 0,closeCallback:void 0,cssClass:void 0};c&&a.extend(b,c);f&&"function"==typeof f&&(b.openCallback=f);c&&"object"==typeof c&&void 0===c.selector?(a.each(c,function(a,c){b[a]=c}),a.extend(b,c)):c&&"string"==typeof c?(f&&"object"==typeof f&&
a.each(f,function(a,c){b[a]=c}),b.html=c):c&&"object"==typeof c&&void 0!=c.selector?(f&&"object"==typeof f&&a.each(f,function(a,c){b[a]=c}),b.html=c):c&&"function"==typeof c&&(b.openCallback=c);if(""==b.html)return!1;var e=Math.floor(9999*Math.random()),h="back_"+e,g="splash_"+e,e=a(document.createElement("div")).attr("data-splash-id",h).attr("class","splash_back");if("object"==typeof b.html){var d=b.html;d.after('<splash_phantom phantom-id="phantom_'+g+'"></splash_phantom>');d.addClass("splash_splash").attr("data-splash-id",
g);d.off("click")}else d=a("<div>",{"data-splash-id":g,"class":"splash_splash"});void 0!=b.cssClass&&d.addClass(b.cssClass);a("body").append(e);e.css({zIndex:888}).fadeTo(100,b.opacity);e.after(d);b.closeOutClick&&e.click(function(c){c.preventDefault();a("[data-splash-id='"+g+"']").fadeOut(b.durationClose,function(){a("[data-splash-id='"+h+"']").fadeOut(100,function(){a(this).remove()});"object"!=typeof b.html?a(this).remove():(a(this).removeClass("splash_splash").removeAttr("data-splash-id").removeAttr("style"),
a(this).find("a.splash_close_btn").remove(),a("splash_phantom[phantom-id='phantom_"+g+"']").after(d),a("splash_phantom[phantom-id='phantom_"+g+"']").remove());void 0!=b.closeCallback&&typeof("function"==b.closeCallback)&&b.closeCallback()})});"object"==typeof b.html?b.fullscreen?d.addClass("fullscreen").css({position:"fixed",width:"auto",height:"auto",left:"0",right:"0",top:"0",bottom:"0",zIndex:888}).fadeTo(0,0):d.css({position:"absolute",left:"0",top:"0",zIndex:888}).fadeTo(0,0):b.fullscreen?d.addClass("fullscreen").html(b.html).css({position:"fixed",
width:"auto",height:"auto",left:"0",right:"0",top:"0",bottom:"0",zIndex:888}).fadeTo(0,0):d.html(b.html).css({position:"absolute",left:"50%",top:"50%",zIndex:888}).fadeTo(0,5);b.closeBtn&&(e=a(document.createElement("a")).attr("href","#").attr("class","splash_close_btn"),d.append(e),e.click(function(c){c.preventDefault();a("[data-splash-id='"+g+"']").fadeOut(b.durationClose,function(){"object"!=typeof b.html?a(this).remove():(a(this).removeClass("splash_splash").removeAttr("data-splash-id").removeAttr("style"),
a(this).find("a.splash_close_btn").remove(),a("splash_phantom[phantom-id='phantom_"+g+"']").after(d),a("splash_phantom[phantom-id='phantom_"+g+"']").remove());a("[data-splash-id='"+h+"']").fadeOut(0,function(){a(this).remove()});void 0!=b.closeCallback&&typeof("function"==b.closeCallback)&&b.closeCallback()})}).fadeIn(0));if(!b.fullscreen){var e=d.outerWidth(!0),k=d.outerHeight(!0);d.css({marginLeft:-Math.floor(e/2)+"px",marginTop:-Math.floor(k/2)+"px",left:"50%",top:"50%"});0>d.offset().top&&d.css({marginTop:-(a(window).height()/
2)+10+"px"})}d.animate({opacity:1},b.durationOpen,function(){void 0!=b.openCallback&&typeof("function"==b.openCallback)&&b.openCallback()});b.closeToEscape&&a(document).keyup(function(b){27==b.keyCode&&a.splashClose()});a.extend({splashClose:function(){a(".splash_splash:last").fadeOut(b.durationClose,function(){var c=a(this).attr("data-splash-id").replace("splash_","back_");a("[data-splash-id='"+c+"']").fadeOut(100,function(){a(this).remove()});"object"!=typeof b.html?a(this).remove():a(this).removeClass("splash_splash").removeAttr("data-splash-id").removeAttr("style");
void 0!=b.closeCallback&&typeof("function"==b.closeCallback)&&b.closeCallback()})}})}})(jQuery);